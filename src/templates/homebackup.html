<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website</title>
    <!-- Bootstrap css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Custom css -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .scrollable-column {
            max-height: 100vh; /* Set a maximum height for the column */
            overflow-y: auto; /* Enable vertical scrolling */
        }
    </style>
    <style>
        .fixed-image {
            max-width: 100%;
            height: auto;
        }
    </style>
    <style>
        .full-height-card {
          display: flex;
          flex-direction: column;
          height: 100vh; /* Set the height to 100% of the viewport height */
        }
      
        .full-height-card .card-body {
          flex: 1; /* This will make the card body take up the available space */
        }
      </style>
</head>

<body style="padding-top: 75px;">
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 fixed-top">
        <div class="container">
          <a href="#" class="navbar-brand">Home</a>
          <div class="col-lg"></div>
          <div class="col-lg-3">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Search by ID" aria-label="Username" aria-describedby="basic-addon1">
            </div>
          </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navmenu">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a href="/profile" class="nav-link">Profile</a>
              </li>
              <li class="nav-item">
                <a href="/contactlist" class="nav-link">Contactlist</a>
              </li>
              <li class="nav-item">
                <a href="/logout" class="nav-link">Logout</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-3">
                <div class="card full-height-card" style="max-height: 85vh; overflow-y: auto;">
                    <div class="card-body">
                        <!-- contactlist function here   -->
                        <p> some info</p>

                    <a href="https://example.com" class="card-link">
                        <div class="row">                            
                            <div class="col">
                                <div class="card mb-1 bg-secondary">
                                    <div class="row g-0">
                                        <div class="col-md-3" style="padding: 10px;">
                                            <img src="{{ url_for('static', filename='image.jpg') }}" alt="Picture" class="fixed-image rounded-circle mb-3">
                                        </div>
                                        <div class="col">
                                            <div class="card-body">
                                                <h5 class="card-title">Pavel Allen</h5>
                                                <p class="card-text">Lorem i</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                        <div class="row">                            
                            <div class="col">
                                <div class="card mb-1 bg-secondary">
                                    <div class="row g-0">
                                        <div class="col-md-3" style="padding: 10px;">
                                            <img src="{{ url_for('static', filename='image.jpg') }}" alt="Picture" class="fixed-image rounded-circle mb-3">
                                        </div>
                                        <div class="col">
                                            <div class="card-body">
                                                <h5 class="card-title">Pavel Allen</h5>
                                                <p class="card-text">Lorem i</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- end of function-->
                    </div>
                </div>
            </div>

            <div class="col">

                <div class="card full-height-card" style="max-height: 85vh; overflow-y: auto;">
                    <div class="card-body  d-flex flex-column flex-fill">
                        <div class="container mt-5 mt-auto">
                            <!-- #1message -->
                            <div class="row">
                                <div class="col-md-2"></div>
                                <div class="col">
                                    <div class="card mb-4 bg-secondary">
                                        <div class="row g-0">
                                            <div class="col-md-1" style="padding: 10px;">
                                                <img src="{{ url_for('static', filename='image.jpg') }}" alt="Profile Picture" class="fixed-image rounded-circle mb-3">
                                            </div>
                                            <div class="col">
                                                <div class="card-body">
                                                    <h5 class="card-title">Pavel Allen</h5>
                                                    <p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae sunt, quo amet facilis ipsa fugit saepe laboriosam sed, nihil repellendus quos officia. Voluptatibus rem et voluptatem, beatae eos reprehenderit expedita vitae ducimus nemo accusantium facilis ex aliquid assumenda inventore nobis deserunt voluptatum tempora omnis quaerat doloremque. Repellendus necessitatibus inventore blanditiis!</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- #2message -->
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="card mb-4 bg-dark">
                                        <div class="row g-0">
                                            <div class="col-md-1" style="padding: 10px;">
                                                <img src="{{ url_for('static', filename='image.jpg') }}" alt="Profile Picture" class="fixed-image rounded-circle mb-3">
                                            </div>
                                            <div class="col">
                                                <div class="card-body">
                                                    <h5 class="card-title">Pavel Allen</h5>
                                                    <p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae sunt, quo amet facilis ipsa fugit saepe laboriosam sed, nihil repellendus quos officia. Voluptatibus rem et voluptatem, beatae eos reprehenderit expedita vitae ducimus nemo accusantium facilis ex aliquid assumenda inventore nobis deserunt voluptatum tempora omnis quaerat doloremque. Repellendus necessitatibus inventore blanditiis!</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-2"></div>
                                </div>
                            </div>
                            {%for message in messages%}
                            {% if message.sender_id == id %}
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="card mb-4 bg-dark">
                                        <div class="row g-0">
                                            <div class="col-md-1" style="padding: 10px;">
                                                <img src="{{ url_for('static', filename='image.jpg') }}" alt="Profile Picture" class="fixed-image rounded-circle mb-3">
                                            </div>
                                            <div class="col">
                                                <div class="card-body">
                                                    <h5 class="card-title">Pavel Allen</h5>
                                                    <p class="card-text">{{ message.message }}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-2"></div>
                                </div>
                            </div>
                            {%else%}
                            <div class="row">
                                <div class="col-md-2"></div>
                                <div class="col">
                                    <div class="card mb-4 bg-dark">
                                        <div class="row g-0">
                                            <div class="col-md-1" style="padding: 10px;">
                                                <img src="{{ url_for('static', filename='image.jpg') }}" alt="Profile Picture" class="fixed-image rounded-circle mb-3">
                                            </div>
                                            <div class="col">
                                                <div class="card-body">
                                                    <h5 class="card-title">Laska Allen</h5>
                                                    <p class="card-text">{{ message.message }}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {%endif%}
                            {%endfor%}

                            
                            <!-- end of dialog -->
                            <div class="mt-auto">
                                <form id="message-form" method="POST" action="/send">
                                    <!-- Input field fixed to the bottom -->
                                    <input type="text" class="form-control" placeholder="Your input" name="message">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>                
            </div>
        </div>

      
    
    <!-- Bootstrap JS and Popper.js (required for Bootstrap JavaScript components) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

</body >

</html>
